[build]
  # Build command - using pnpm
  command = "pnpm install && pnpm run build"
  # Publish directory - must be different from base directory (which is "main" in UI)
  # Setting to ".next" makes it a subdirectory, which satisfies the plugin requirement
  # The @netlify/plugin-nextjs plugin will process this directory
  publish = ".next"

[build.environment]
  # Node version
  NODE_VERSION = "20"
  # Enable pnpm
  PNPM_VERSION = "9"

# Configure the Netlify Next.js plugin
# This plugin is required for Next.js to work properly on Netlify
# It handles routing, server-side rendering, and static generation
[[plugins]]
  package = "@netlify/plugin-nextjs"

